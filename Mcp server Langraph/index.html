
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Deep Searching Agents with LangGraph and MCP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tiempos+Headline:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f766e;
            --primary-light: #14b8a6;
            --secondary: #64748b;
            --accent: #f59e0b;
            --background: #fafaf9;
            --surface: #ffffff;
            --text: #1e293b;
            --muted: #64748b;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .serif {
            font-family: 'Tiempos Headline', serif;
        }
        
        .toc-fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: var(--surface);
            border-right: 1px solid #e2e8f0;
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem 1.5rem;
            box-shadow: 4px 0 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #0f766e 0%, #14b8a6 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero-overlay {
            background: rgba(15, 118, 110, 0.8);
            backdrop-filter: blur(2px);
        }
        
        .bento-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-rows: auto auto;
            gap: 2rem;
            height: 60vh;
        }
        
        .bento-main {
            grid-row: 1 / -1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 3rem;
        }
        
        .bento-side-top {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            padding: 2rem;
        }
        
        .bento-side-bottom {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 2rem;
        }
        
        .citation {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px dotted var(--primary);
            cursor: pointer;
        }
        
        .citation:hover {
            background: rgba(15, 118, 110, 0.1);
            padding: 2px 4px;
            border-radius: 4px;
        }
        
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            overflow-x: auto;
        }
        
        .highlight {
            background: linear-gradient(120deg, rgba(245, 158, 11, 0.2) 0%, rgba(245, 158, 11, 0.1) 100%);
            padding: 0.125rem 0.375rem;
            border-radius: 0.375rem;
            font-weight: 500;
        }
        
        .tool-card {
            background: var(--surface);
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .tool-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px 0 rgba(0, 0, 0, 0.1);
        }
        
        .architecture-diagram {
            background: var(--surface);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid #e2e8f0;
        }
        
        .workflow-step {
            background: linear-gradient(135deg, var(--surface) 0%, #f8fafc 100%);
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 0 0.75rem 0.75rem 0;
        }
        
        @media (max-width: 1024px) {
            .toc-fixed {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .toc-fixed.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .bento-grid {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .bento-main {
                grid-row: auto;
            }
            
            .hero-section h1 {
                font-size: 2.5rem;
            }
        }
        
        .toc-link {
            display: block;
            padding: 0.5rem 0;
            color: var(--secondary);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }
        
        .toc-link:hover, .toc-link.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .toc-link.sub {
            padding-left: 1rem;
            font-size: 0.875rem;
        }
        
        @media (max-width: 768px) {
            .bento-main {
                padding: 1.5rem;
            }
            
            .hero-section h1 {
                font-size: 2rem;
            }
            
            .bento-main p {
                font-size: 1rem;
            }
            
            .hero-section .flex {
                flex-direction: column;
                gap: 1rem;
            }
            
            .hero-section button {
                width: 100%;
            }
        }
    </style>
  </head>

  <body>
    <!-- Table of Contents -->
    <nav class="toc-fixed">
      <div class="mb-8">
        <h3 class="serif text-xl font-bold text-gray-900 mb-4">Contents</h3>
        <a href="#overview" class="toc-link">Solution Architecture</a>
        <a href="#mcp-server" class="toc-link">MCP Server Implementation</a>
        <a href="#mcp-server-setup" class="toc-link sub">Server Setup</a>
        <a href="#custom-tools" class="toc-link sub">Custom Tools</a>
        <a href="#server-execution" class="toc-link sub">Server Execution</a>
        <a href="#agent-client" class="toc-link">Agent Client</a>
        <a href="#client-config" class="toc-link sub">Client Configuration</a>
        <a href="#agent-creation" class="toc-link sub">Agent Creation</a>
        <a href="#query-execution" class="toc-link sub">Query Execution</a>
        <a href="#dependencies" class="toc-link">Key Components</a>
        <a href="#workflow" class="toc-link">Example Workflow</a>
      </div>

      <div class="border-t pt-4">
        <p class="text-sm text-gray-500 mb-2">Share this guide</p>
        <div class="flex space-x-3">
          <a href="#" class="text-gray-400 hover:text-teal-600 transition-colors">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-teal-600 transition-colors">
            <i class="fab fa-linkedin"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-teal-600 transition-colors">
            <i class="fab fa-github"></i>
          </a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section -->
      <section class="hero-section">
        <div class="hero-overlay">
          <div class="container mx-auto px-6 py-16">
            <div class="bento-grid">
              <div class="bento-main">
                <h1 class="serif text-5xl font-bold text-white mb-6 leading-tight">
                  <em>Building Deep Searching Agents</em>
                  <br>
                  <span class="text-3xl font-normal opacity-90">with LangGraph and MCP Server</span>
                </h1>
                <p class="text-xl text-white opacity-90 mb-8 max-w-2xl">
                  A comprehensive guide to creating sophisticated industry research agents that leverage modular tool integration and intelligent orchestration.
                </p>
                <div class="flex space-x-4">
                  <button class="bg-white text-teal-700 px-6 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-all">
                    <i class="fas fa-code mr-2"></i>
                    View Implementation
                  </button>
                  <button class="border border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-all">
                    <i class="fas fa-book mr-2"></i>
                    Read Documentation
                  </button>
                </div>
              </div>

              <div class="bento-side-top">
                <h3 class="serif text-xl font-semibold text-white mb-4">
                  <i class="fas fa-cogs mr-2"></i>
                  Core Technologies
                </h3>
                <div class="space-y-3 text-white opacity-90">
                  <div class="flex items-center">
                    <i class="fas fa-check-circle mr-3 text-teal-300"></i>
                    <span>LangGraph for agent orchestration</span>
                  </div>
                  <div class="flex items-center">
                    <i class="fas fa-check-circle mr-3 text-teal-300"></i>
                    <span>MCP Server for tool integration</span>
                  </div>
                  <div class="flex items-center">
                    <i class="fas fa-check-circle mr-3 text-teal-300"></i>
                    <span>ReAct paradigm for reasoning</span>
                  </div>
                </div>
              </div>

              <div class="bento-side-bottom">
                <h3 class="serif text-lg font-semibold text-white mb-4">
                  <i class="fas fa-tools mr-2"></i>
                  Integrated Tools
                </h3>
                <div class="grid grid-cols-2 gap-2 text-sm text-white opacity-80">
                  <div>• Google Search</div>
                  <div>• Reddit Scraping</div>
                  <div>• Web Scraping</div>
                  <div>• YouTube Search</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Overview Section -->
      <section id="overview" class="py-16 px-6">
        <div class="container mx-auto max-w-4xl">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">Solution Architecture Overview</h2>

          <div class="prose prose-lg max-w-none">
            <p class="text-xl text-gray-700 mb-8 leading-relaxed">
              The architecture for a deep searching agent designed for industry research leverages the <span class="highlight">Model Context Protocol (MCP) Server</span> for tool integration and <span class="highlight">LangGraph</span> for agent orchestration. This combination enables a modular, scalable system capable of performing complex research tasks through intelligent tool utilization.
            </p>

            <div class="architecture-diagram">
              <h3 class="serif text-2xl font-semibold mb-6">System Architecture Flow</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center">
                  <div class="w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-robot text-2xl text-teal-600"></i>
                  </div>
                  <h4 class="font-semibold mb-2">LangGraph Agent</h4>
                  <p class="text-sm text-gray-600">ReAct-based orchestration with LLM reasoning</p>
                </div>
                <div class="text-center">
                  <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-server text-2xl text-amber-600"></i>
                  </div>
                  <h4 class="font-semibold mb-2">MCP Server</h4>
                  <p class="text-sm text-gray-600">Standardized tool interface and execution</p>
                </div>
                <div class="text-center">
                  <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-tools text-2xl text-blue-600"></i>
                  </div>
                  <h4 class="font-semibold mb-2">Research Tools</h4>
                  <p class="text-sm text-gray-600">Google, Reddit, Web, YouTube integrations</p>
                </div>
              </div>
            </div>

            <h3 class="serif text-2xl font-semibold mt-8 mb-4">MCP Server Integration</h3>
            <p class="mb-6">
              The <a href="https://langchain-ai.github.io/langgraph/agents/mcp/" class="citation">MCP Server</a> acts as a standardized interface for integrating external tools required for deep industry research. This protocol enables modular design where tools can be developed and managed independently of agent logic, exposing them consistently for agent discovery and invocation.
            </p>

            <h3 class="serif text-2xl font-semibold mt-8 mb-4">LangGraph Orchestration</h3>
            <p class="mb-6">
              <a href="https://github.com/langchain-ai/local-deep-researcher" class="citation">LangGraph</a> provides granular control over agent execution flow, including cycles and complex decision-making processes essential for deep research. The ReAct paradigm enables iterative reasoning about the current state and dynamic tool selection.
            </p>
          </div>
        </div>
      </section>

      <!-- MCP Server Implementation -->
      <section id="mcp-server" class="py-16 px-6 bg-gray-50">
        <div class="container mx-auto max-w-4xl">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">MCP Server Implementation</h2>

          <div id="mcp-server-setup" class="mb-12">
            <h3 class="serif text-2xl font-semibold mb-6">Setting Up the MCP Server</h3>
            <p class="text-lg mb-6">
              The MCP server implementation involves creating a Python script (<code class="bg-gray-200 px-2 py-1 rounded">industry_research_server.py</code>) using the <span class="highlight">FastMCP</span> class to define and expose research tools as MCP-compatible services.
            </p>

            <div class="code-block mb-6">
              <pre><code># industry_research_server.py
from mcp.server.fastmcp import FastMCP

# Initialize MCP server instance
mcp = FastMCP("IndustryResearchServer")

# Define and register tools here
# ...

if __name__ == "__main__":
    # Start server with stdio transport
    mcp.run(transport="stdio")</code></pre>
            </div>

            <p class="mb-6">
              The server uses either <span class="highlight">stdio</span> for local execution or <span class="highlight">HTTP-based protocols</span> for remote access, providing flexibility for different deployment scenarios.
            </p>
          </div>

          <div id="custom-tools" class="mb-12">
            <h3 class="serif text-2xl font-semibold mb-6">Defining Custom Research Tools</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
              <div class="tool-card">
                <div class="flex items-center mb-4">
                  <i class="fab fa-google text-2xl text-red-500 mr-3"></i>
                  <h4 class="font-semibold">Google Search</h4>
                </div>
                <p class="text-sm text-gray-600 mb-3">Search Google for industry trends and information</p>
                <code class="text-xs bg-gray-100 px-2 py-1 rounded">search_google(query: str) -> str</code>
              </div>

              <div class="tool-card">
                <div class="flex items-center mb-4">
                  <i class="fab fa-reddit text-2xl text-orange-500 mr-3"></i>
                  <h4 class="font-semibold">Reddit Scraping</h4>
                </div>
                <p class="text-sm text-gray-600 mb-3">Extract discussions and insights from Reddit</p>
                <code class="text-xs bg-gray-100 px-2 py-1 rounded">scrape_reddit(query: str) -> str</code>
              </div>

              <div class="tool-card">
                <div class="flex items-center mb-4">
                  <i class="fas fa-globe text-2xl text-blue-500 mr-3"></i>
                  <h4 class="font-semibold">Web Scraping</h4>
                </div>
                <p class="text-sm text-gray-600 mb-3">Extract content from specific URLs</p>
                <code class="text-xs bg-gray-100 px-2 py-1 rounded">scrape_web(url: str) -> str</code>
              </div>

              <div class="tool-card">
                <div class="flex items-center mb-4">
                  <i class="fab fa-youtube text-2xl text-red-600 mr-3"></i>
                  <h4 class="font-semibold">YouTube Search</h4>
                </div>
                <p class="text-sm text-gray-600 mb-3">Find relevant video content and metadata</p>
                <code class="text-xs bg-gray-100 px-2 py-1 rounded">search_youtube(query: str) -> str</code>
              </div>
            </div>

            <div class="code-block">
              <pre><code># Tool implementation examples
@mcp.tool()
def search_google(query: str) -> str:
    """Searches Google for the given query and returns results."""
    # Implementation using googlesearch-python or custom API
    return f"Google search results for: {query}"

@mcp.tool()
def scrape_reddit(query: str) -> str:
    """Scrapes Reddit for posts and comments related to the query."""
    # Implementation using praw or custom scraping
    return f"Reddit results for: {query}"

@mcp.tool()
def scrape_web(url: str) -> str:
    """Scrapes the content of the given URL."""
    # Implementation using BeautifulSoup or Scrapy
    return f"Web content from: {url}"

@mcp.tool()
def search_youtube(query: str) -> str:
    """Searches YouTube for videos related to the query."""
    # Implementation using YouTube Data API
    return f"YouTube results for: {query}"</code></pre>
            </div>
          </div>

          <div id="server-execution">
            <h3 class="serif text-2xl font-semibold mb-6">Running the MCP Server</h3>
            <p class="mb-6">
              Execute the server script directly from the command line to start the MCP server process:
            </p>

            <div class="code-block mb-6">
              <pre><code># Start the MCP server
python industry_research_server.py</code></pre>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
              <div class="flex">
                <i class="fas fa-info-circle text-blue-400 mr-3 mt-1"></i>
                <div>
                  <p class="text-sm text-blue-700">
                    <strong>Note:</strong> The server remains active, processing requests until manually stopped (Ctrl+C) or programmatically terminated. Logs help monitor incoming requests and tool executions.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Agent Client Implementation -->
      <section id="agent-client" class="py-16 px-6">
        <div class="container mx-auto max-w-4xl">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">Agent Client Implementation</h2>

          <div id="client-config" class="mb-12">
            <h3 class="serif text-2xl font-semibold mb-6">Configuring MultiServerMCPClient</h3>
            <p class="text-lg mb-6">
              The agent client uses <span class="highlight">MultiServerMCPClient</span> from <a href="https://zhuanlan.zhihu.com/p/1893223123081482311" class="citation">langchain_mcp_adapters</a> to connect to MCP servers and discover available tools.
            </p>

            <div class="code-block mb-6">
              <pre><code># agent_client.py
import asyncio
from langchain_mcp_adapters.client import MultiServerMCPClient
from langgraph.prebuilt import create_react_agent
from langchain_openai import ChatOpenAI

async def main():
    # Configure MCP server connections
    mcp_servers = {
        "industry_research": {
            "command": "python",
            "args": ["industry_research_server.py"],
            "transport": "stdio"
        }
    }
    
    # Create MCP client and get tools
    async with MultiServerMCPClient(mcp_servers) as client:
        tools = await client.get_tools()
        
        # Create and run agent
        # ...

if __name__ == "__main__":
    asyncio.run(main())</code></pre>
            </div>
          </div>

          <div id="agent-creation" class="mb-12">
            <h3 class="serif text-2xl font-semibold mb-6">Creating the ReAct Agent</h3>
            <p class="mb-6">
              The <span class="highlight">create_react_agent</span> function from <a href="https://langchain-ai.github.io/langgraph/agents/mcp/" class="citation">langgraph.prebuilt</a> instantiates a ReAct agent powered by an LLM:
            </p>

            <div class="code-block mb-6">
              <pre><code># Create LangGraph ReAct agent
agent = create_react_agent(
    llm=ChatOpenAI(model="gpt-4o"),
    tools=tools,
    prompt="You are a helpful assistant that can use tools to gather information.",
    checkpointer=MemorySaver(),
    debug=True
)</code></pre>
            </div>

            <div class="workflow-step">
              <h4 class="font-semibold mb-3">
                <i class="fas fa-cog mr-2 text-teal-600"></i>
                Agent Configuration Parameters
              </h4>
              <ul class="space-y-2 text-sm">
                <li><strong>llm:</strong> Large Language Model for reasoning (e.g., GPT-4, Claude 3)</li>
                <li><strong>tools:</strong> List of tools discovered from MCP servers</li>
                <li><strong>prompt:</strong> System instructions guiding agent behavior</li>
                <li><strong>checkpointer:</strong> State management for multi-turn conversations</li>
                <li><strong>debug:</strong> Verbose output for development and troubleshooting</li>
              </ul>
            </div>
          </div>

          <div id="query-execution">
            <h3 class="serif text-2xl font-semibold mb-6">Executing Research Queries</h3>
            <p class="mb-6">
              The agent processes queries asynchronously using the <span class="highlight">ainvoke()</span> method, following the ReAct paradigm to iteratively reason and act:
            </p>

            <div class="code-block mb-6">
              <pre><code># Execute research query
query = "Conduct deep industry research on renewable energy trends."
response = await agent.ainvoke({
    "messages": [{"role": "user", "content": query}]
})

# Extract final research findings
final_output = response["messages"][-1].content
print(f"Research Findings:\n{final_output}")</code></pre>
            </div>

            <div class="bg-green-50 border-l-4 border-green-400 p-4">
              <div class="flex">
                <i class="fas fa-lightbulb text-green-400 mr-3 mt-1"></i>
                <div>
                  <p class="text-sm text-green-700">
                    <strong>Pro Tip:</strong> Use checkpointer for state management in long-running research tasks. This enables context preservation across multiple tool invocations and iterative refinement of research findings.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Key Components -->
      <section id="dependencies" class="py-16 px-6 bg-gray-50">
        <div class="container mx-auto max-w-4xl">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">Key Components and Dependencies</h2>

          <div class="overflow-x-auto mb-8">
            <table class="w-full bg-white rounded-lg shadow-sm">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Component</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Purpose</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Key Classes/Functions</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Import Statement</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">mcp Library</td>
                  <td class="px-6 py-4 text-sm text-gray-700">Server-side MCP implementation</td>
                  <td class="px-6 py-4 text-sm text-gray-700">FastMCP, @mcp.tool()</td>
                  <td class="px-6 py-4 text-sm text-gray-700 font-mono">from mcp.server.fastmcp import FastMCP</td>
                </tr>
                <tr>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">langchain_mcp_adapters</td>
                  <td class="px-6 py-4 text-sm text-gray-700">Client-server integration</td>
                  <td class="px-6 py-4 text-sm text-gray-700">MultiServerMCPClient</td>
                  <td class="px-6 py-4 text-sm text-gray-700 font-mono">from langchain_mcp_adapters.client import MultiServerMCPClient</td>
                </tr>
                <tr>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">langgraph</td>
                  <td class="px-6 py-4 text-sm text-gray-700">Agent orchestration</td>
                  <td class="px-6 py-4 text-sm text-gray-700">create_react_agent, MemorySaver</td>
                  <td class="px-6 py-4 text-sm text-gray-700 font-mono">from langgraph.prebuilt import create_react_agent</td>
                </tr>
                <tr>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900">LLM Providers</td>
                  <td class="px-6 py-4 text-sm text-gray-700">Reasoning and generation</td>
                  <td class="px-6 py-4 text-sm text-gray-700">ChatOpenAI, ChatAnthropic</td>
                  <td class="px-6 py-4 text-sm text-gray-700 font-mono">from langchain_openai import ChatOpenAI</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-lg shadow-sm border">
              <h3 class="font-semibold mb-3 text-teal-700">
                <i class="fas fa-server mr-2"></i>
                Server Infrastructure
              </h3>
              <p class="text-sm text-gray-600">
                MCP protocol enables standardized tool exposure with flexible transport options (stdio, HTTP, SSE).
              </p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-sm border">
              <h3 class="font-semibold mb-3 text-teal-700">
                <i class="fas fa-plug mr-2"></i>
                Integration Layer
              </h3>
              <p class="text-sm text-gray-600">
                langchain_mcp_adapters bridge MCP tools with LangChain/LangGraph agent ecosystem.
              </p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-sm border">
              <h3 class="font-semibold mb-3 text-teal-700">
                <i class="fas fa-brain mr-2"></i>
                Agent Intelligence
              </h3>
              <p class="text-sm text-gray-600">
                LangGraph provides sophisticated orchestration with ReAct paradigm and state management.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Example Workflow -->
      <section id="workflow" class="py-16 px-6">
        <div class="container mx-auto max-w-4xl">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">Example Workflow: Renewable Energy Research</h2>

          <div class="space-y-8">
            <div class="workflow-step">
              <h3 class="serif text-xl font-semibold mb-4">
                <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm mr-3">1</span>
                Agent Receives Research Query
              </h3>
              <p class="mb-4">
                The workflow begins when the agent receives a research query: <em>"Conduct deep industry research on renewable energy trends"</em>. This input triggers the agent's reasoning process, where the LLM analyzes the query to identify key concepts and information requirements.
              </p>
              <div class="bg-gray-50 p-4 rounded-lg">
                <code class="text-sm">
                                {"messages": [{"role": "user", "content": "Conduct deep industry research on renewable energy trends."}]}
                            </code>
              </div>
            </div>

            <div class="workflow-step">
              <h3 class="serif text-xl font-semibold mb-4">
                <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm mr-3">2</span>
                Agent Orchestrates Tool Usage
              </h3>
              <p class="mb-4">
                Following the ReAct paradigm, the agent enters an iterative loop of reasoning and acting:
              </p>
              <ul class="list-disc list-inside space-y-2 mb-4 text-gray-700">
                <li><strong>Reason:</strong> LLM decides which tool to use and with what arguments</li>
                <li><strong>Act:</strong> Agent invokes the chosen tool via MCP server</li>
                <li><strong>Observe:</strong> Processes tool output and updates context</li>
              </ul>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                  <h4 class="font-semibold mb-2 text-blue-800">Example Tool Sequence</h4>
                  <ol class="text-sm space-y-1 text-blue-700">
                    <li>1. search_google("renewable energy trends 2024")</li>
                    <li>2. scrape_web(relevant_url_from_google)</li>
                    <li>3. scrape_reddit("renewable energy discussions")</li>
                    <li>4. search_youtube("renewable energy breakthroughs")</li>
                  </ol>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                  <h4 class="font-semibold mb-2 text-green-800">MCP Server Role</h4>
                  <p class="text-sm text-green-700">
                    Handles tool execution, authentication, rate limiting, and data parsing, returning standardized responses to the agent.
                  </p>
                </div>
              </div>
            </div>

            <div class="workflow-step">
              <h3 class="serif text-xl font-semibold mb-4">
                <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm mr-3">3</span>
                Agent Returns Research Findings
              </h3>
              <p class="mb-4">
                After gathering sufficient information, the agent synthesizes findings into a comprehensive report. The <a href="https://github.com/langchain-ai/local-deep-researcher" class="citation">local-deep-researcher</a> project demonstrates this with markdown output containing citations.
              </p>
              <div class="bg-amber-50 border-l-4 border-amber-400 p-4">
                <h4 class="font-semibold mb-2 text-amber-800">Example Output Structure</h4>
                <ul class="text-sm space-y-1 text-amber-700">
                  <li>• Executive Summary</li>
                  <li>• Market Growth Analysis</li>
                  <li>• Technological Advancements</li>
                  <li>• Policy and Regulatory Updates</li>
                  <li>• Future Outlook and Predictions</li>
                  <li>• Citations and Sources</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="mt-12 bg-gray-900 text-white p-8 rounded-xl">
            <h3 class="serif text-2xl font-semibold mb-4">Complete Implementation Architecture</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="text-center">
                <div class="w-20 h-20 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="fas fa-code text-2xl"></i>
                </div>
                <h4 class="font-semibold mb-2">Server Implementation</h4>
                <p class="text-sm opacity-90">Python MCP server with custom tool definitions</p>
              </div>
              <div class="text-center">
                <div class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="fas fa-plug text-2xl"></i>
                </div>
                <h4 class="font-semibold mb-2">Client Integration</h4>
                <p class="text-sm opacity-90">MultiServerMCPClient with tool discovery</p>
              </div>
              <div class="text-center">
                <div class="w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="fas fa-robot text-2xl"></i>
                </div>
                <h4 class="font-semibold mb-2">Agent Orchestration</h4>
                <p class="text-sm opacity-90">LangGraph with ReAct agent and LLM reasoning</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="py-12 px-6 bg-gray-900 text-white">
        <div class="container mx-auto max-w-4xl">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <h3 class="serif text-lg font-semibold mb-4">Resources</h3>
              <ul class="space-y-2 text-sm text-gray-300">
                <li>
                  <a href="https://langchain-ai.github.io/langgraph/" class="hover:text-white transition-colors">LangGraph Documentation</a>
                </li>
                <li>
                  <a href="https://mcpmarket.com/server/langchain-mcp-tools" class="hover:text-white transition-colors">MCP Server Guide</a>
                </li>
                <li>
                  <a href="https://github.com/langchain-ai/local-deep-researcher" class="hover:text-white transition-colors">Deep Researcher Example</a>
                </li>
              </ul>
            </div>
            <div>
              <h3 class="serif text-lg font-semibold mb-4">Tools</h3>
              <ul class="space-y-2 text-sm text-gray-300">
                <li>Google Search API</li>
                <li>Reddit Scraping</li>
                <li>Web Scraping Tools</li>
                <li>YouTube Data API</li>
              </ul>
            </div>
            <div>
              <h3 class="serif text-lg font-semibold mb-4">Technologies</h3>
              <ul class="space-y-2 text-sm text-gray-300">
                <li>Python 3.9+</li>
                <li>LangChain Ecosystem</li>
                <li>MCP Protocol</li>
                <li>ReAct Framework</li>
              </ul>
            </div>
          </div>
          <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
            <p>&copy; 2024 Deep Searching Agent Architecture Guide</p>
          </div>
        </div>
      </footer>
    </main>

    <script>
        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section[id]');
            const tocLinks = document.querySelectorAll('.toc-link');
            
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        });

        // Mobile TOC toggle
        function toggleTOC() {
            const toc = document.querySelector('.toc-fixed');
            toc.classList.toggle('open');
        }

        // Add mobile menu button for small screens
        if (window.innerWidth <= 1024) {
            const menuButton = document.createElement('button');
            menuButton.innerHTML = '<i class="fas fa-bars"></i>';
            menuButton.className = 'fixed top-4 left-4 z-50 bg-teal-600 text-white p-3 rounded-lg shadow-lg lg:hidden';
            menuButton.onclick = toggleTOC;
            document.body.appendChild(menuButton);
        }

        // Close TOC when clicking outside on mobile
        document.addEventListener('click', function(event) {
            const toc = document.querySelector('.toc-fixed');
            const menuButton = document.querySelector('button[onclick="toggleTOC()"]');
            
            if (window.innerWidth <= 1024 && toc.classList.contains('open')) {
                // Check if click is outside TOC and outside menu button
                if (!toc.contains(event.target) && event.target !== menuButton && !menuButton.contains(event.target)) {
                    toc.classList.remove('open');
                }
            }
        });

        // Reset TOC state on window resize
        window.addEventListener('resize', function() {
            const toc = document.querySelector('.toc-fixed');
            if (window.innerWidth > 1024) {
                toc.classList.remove('open');
            }
        });

        // Citation click handlers
        document.querySelectorAll('.citation').forEach(citation => {
            citation.addEventListener('click', function(e) {
                e.preventDefault();
                // Could implement citation modal or tracking here
                console.log('Citation clicked:', this.href);
            });
        });
    </script>
  </body>

</html>